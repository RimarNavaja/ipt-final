<div class="card">
  <div class="card-header">
    <h2 class="mb-0">WORKFLOWS FOR EMPLOYEE {{employeeId}}</h2>
  </div>
  <div class="card-body">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Type</th>
          <th>Details</th>
          <th>Status</th>
          <th *ngIf="account()?.role === 'Admin'">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let workflow of workflows">
          <td>{{workflow.type}}</td>
          <td>{{workflow.details | json}}</td>
          <td>
            <span class="badge text-white p-2 rounded-pill" 
                  [ngClass]="{
                    'bg-success': workflow.status === 'Approved', 
                    'bg-danger': workflow.status === 'Rejected',
                    'bg-warning': workflow.status === 'Pending'
                  }">
              {{workflow.status}}
            </span>
          </td>
          <td *ngIf="account()?.role === 'Admin'">
            <select
              class="form-select d-inline-block w-auto"
              [(ngModel)]="workflow.status"
              (change)="updateStatus(workflow)"
            >
              <option>Pending</option>
              <option>Approved</option>
              <option>Rejected</option>
            </select>
          </td>
        </tr>
        <tr *ngIf="!workflows || workflows.length === 0">
          <td colspan="4" class="text-center">
            <span class="spinner-border spinner-border-lg align-center"></span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
